# 课文内容

## 4.1 预备知识

### 关于先中后序遍历和递归

分析先序打印目录程序和后序计算目录大小程序，可以得出，二者的递归过程是相同的，不同之处在于先序不利用return，而后序使用return。

可以得出，递归的展开过程为先序遍历，递归的计算返回过程为后序遍历。

## 4.2 二叉树

### 证明N个节点的二叉树都将需要N+1个null链

N个节点二叉树，子节点总数为2N

同时N个节点除根节点之外均有一个父节点，即已被填充的子节点为N-1

所以可以得出null链的个数为$2N-(N-1)=N+1$

### 证明N个节点二叉树的深度区间

最大值为N-1

最小值为$log{N}$

证明如下：

深度最小值即为满二叉树

$2^{h}=N$

可解得$h=log^{N}$

# 课后练习

## 4.1 说明图4-70中树的根叶节点

根节点：A

叶节点：G/H/I/L/M/K

## 4.2 说明图4-70中每个节点

父/子/兄弟/深/高

A：无/BC/无/0/4

C：A/F/B/1/2

F：C/K/无/2/1

K：F/无/无/3/0

B：A/DE/C/1/3

D：B/GH/E/2/1

E：B/IJ/D/2/2

G：D/无/H/3/0

H：D/无/G/3/0

I：E/无/J/3/0

J：E/LM/I/3/1

L：J/无/M/4/0

M：J/无/L/4/0

收获：节点的定义，注意不要漏掉兄弟节点，注意节点高度的计算。

## 4.3 图4-70中树的深度

深度为4

收获：树的深度为根节点到叶节点的最长路径

## 4.4 证明空链个数

已在课文内部4.2 二叉树中证明过

## 4.5 证明高度h的二叉树中节点最大个数

最大个数即为等比数列求和

$\sum^{h}_{i=0}{2^{i}}=2^{h+1}-1$

## 4.6证明满节点与叶节点的数量关系

假设节点为N的二叉树中满节点为x1,单节点为x2，叶节点为x3

有

$x1+x2+x3=N$

$2x3+x2=N+1$（根据4.4题得出）

解方程得

$x3-x1=1$

得证满节点与叶节点个数相差1

## 4.7 证明二叉树叶节点以2为底，以负深度为指数的幂求和问题

利用归纳法证明

对于只有根节点情况，2^0=1得证

对于有1个子节点，2^-1<1得证

对于有2个子节点，2^-1+2^-1=1得证

依次递推可以发现规律

根据二叉树的自相似性质可以发现此问题的主要矛盾是单节点

即对于任意节点x，假设其深度为h

如果此节点为叶节点，则所求为2^-h

如果此节点分化出1个子节点，则所求为2^-(h+1)

如果此节点分化出2个子节点，则所求为2*2^-(h+1)=2^-h

由此可以得出结论：即当满二叉树$\sum^{M}_{i=1}2^{-d_i}=1$

对于其他情况$\sum^{M}_{i=1}2^{-d_i} < 1$

总结：主要是归纳法，自相似性，二分性，同时可以将二叉树叶节点看成是结果，而非叶节点是中间过程。

## 4.8表达式树展开前中后缀表达式

前缀表达式：$-**ab+cde$

中缀表达式：$(a*b)*(c+d)-e$

后缀表达式：$ab*cd+*e-$